@model IEnumerable<Course>

@{
    ViewData["Title"] = "CourseListDB";
}
@section topCSS
{
    <link rel="stylesheet" href="~/css/normalize.css" />
    <link rel="stylesheet" href="~/css/utilities.css" />
    @* <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" /> *@
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="~/css/course_list.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css"
          integrity="sha512-yHknP1/AwR+yx26cB1y0cjvQUMvEa2PFzt1c9LlS4pRQ5NOTZFWbhBig+X9G9eYW/8m0/4OXNx8pxJ6z57x0dw=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css"
          integrity="sha512-17EgCFERpgZKcm0j0fEq1YCJuyAWdz9KUtv1EjVuaOz8pDnh/0nZxmU6BBXwaaxqoi9PQXnRWqlcDB027hgv9A=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="~/css/tutor_intro_medias_slider.css">
    <link rel="stylesheet" href="~/css/booking_table_modal.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Noto+Sans+TC:wght@100..900&display=swap"
          rel="stylesheet">
}

<div class="lh-tutor-cards">
    @foreach (var course in Model)
    {
        <partial name="_CourseCardPartial" model="@course" />
    }
</div>

<div class="modal fade" id="videoModal" tabindex="-1" role="dialog" aria-labelledby="videoModal"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                <div>
                    <iframe width="100%" height="350" src=""></iframe>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="bookingTableModal" tabindex="-1" aria-labelledby="bookingTableModalLabel"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="container booking-table-container py-3">
                <div class="booking-table-title d-flex justify-content-between">
                    <h3 class="text-start">預約課程</h3>
                    <p class="timezone-text">時間以 台北 GMT +08:00 顯示</p>
                </div>
                <div class="booking-table-date-switcher d-flex col-12 mb-4">
                    <div class="text-center d-flex gap-1 me-3">
                        <button id="prevWeek"><i class="fa-solid fa-angle-left"></i></button>
                        <button id="nextWeek"><i class="fa-solid fa-angle-right"></i></button>
                    </div>
                    <div id="weekRange"></div>
                </div>
                <div class="booking-table-body-wrapper d-flex justify-content-center w-100"
                     id="bookingTableBodyWrapper">
                    <div class="table booking-table w-100">
                        <div>
                            <div id="bookingTableHeader">
                                <!-- rendered by JS -->
                            </div>
                        </div>
                        <div id="bookingTableBody">
                            <!-- rendered by JS -->
                        </div>
                    </div>
                </div>
                <!-- <div class="text-center">
                    <button id="expandBookingTable" class="btn btn-open">展開完整時間</button>
                </div> -->
            </div>
            <div class="modal fade" id="confirmBookingModal" tabindex="-1"
                 aria-labelledby="confirmBookingModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div>確認預約內容</div>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                        </div>
                        <div class="modal-body ">
                            <img class="tutor-headshot rounded-circle"
                                 src="/Materials/tutor_headshot_imgs/tutor_head_001.jpg" alt="Tutor's Photo">
                            <p class="overflow-hidden">
                                <strong>教師名稱：</strong>{{ tutorName }}
                            </p>
                            <p><strong>預約堂數：</strong> {{ bookedLessons }}</p>

                        </div>
                        <table class="book-info-table ">
                            <thead>
                                <tr>
                                    <th>課程日期</th>
                                    <th>時間</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td id="confirmBookingModalDate"></td>
                                    <td id="confirmBookingModalTime"></td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="modal-footer col-8 mx-auto mb-2 d-flex justify-content-between">
                            <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">取消</button>
                            <button type="button" class="btn btn-next">下一步</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="contactTutorModal" tabindex="-1" aria-labelledby="contactTutorModalLabel"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title d-flex gap-4">
                    <img class="tutor-headshot" src="~/image/tutor_headshot_imgs/tutor_head_001.jpg"
                         alt="">
                    <div class="d-flex flex-column">
                        <h4 class="tutor-description-title">
                            Feds🥇顶级雅思| 批判性思维 |
                            面试教练🥇Feds🥇顶级雅思| 批判性思维 |
                            面试教练🥇Feds🥇顶级雅思| 批判性思维 |
                            面试教练🥇
                        </h4>
                        <p>傳送訊息給tutorxxx@talkingtopia.com</p>
                        <p class="d-block text-dark">教師將會在有空的時間回覆您訊息</p>
                    </div>
                </div>

            </div>
            <div class="modal-body px-md-4 pb-0">
                <form>
                    <input class="form-control" type="text" value="tutorxxx@talkingtopia.com"
                           aria-label="Disabled input example" disabled readonly>
                    <div class="input-group my-3">
                        <select class="form-select" id="messageTypeSelect">
                            <option selected>問題類型...</option>
                            <option value="1">課程諮詢</option>
                            <option value="2">特殊時段預約</option>
                            <option value="3">費用疑問</option>
                            <option value="3">其他</option>
                        </select>
                    </div>
                    <div class="form-floating">
                        <textarea class="form-control" placeholder="Enter your message here"
                                  id="floatingTextarea2" style="height: 250px"></textarea>
                        <label for="floatingTextarea2">請輸入訊息內容...</label>
                    </div>
                    <div class="input-group file-upload my-3">
                        <input type="file" class="form-control" id="inputGroupFile02" multiple
                               data-show-upload="true" data-show-caption="true">
                        <label class="input-group-text" for="inputGroupFile02">上傳</label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn cancel-btn" data-bs-dismiss="modal">取消</button>
                <button type="button" class="btn send-btn">傳送訊息</button>
            </div>
        </div>
    </div>
</div>

@section endJS
{
    @*  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
            integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script> *@
    @* <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-migrate/3.5.2/jquery-migrate.min.js"
            integrity="sha512-BzvgYEoHXuphX+g7B/laemJGYFdrq4fTKEo+B3PurSxstMZtwu28FHkPKXu6dSBCzbUWqz/rMv755nUwhjQypw=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script> *@
    <script src="https://cdn.jsdelivr.net/npm/@@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"
            integrity="sha512-HGOnQO9+SP1V92SrtZfjqxxtLmVzqZpjFFekvzZVWoiASSQgSr4cw9Kqd2+l8Llp4Gm0G8GIFJ4ddwZilcdb8A=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="~/js/course_list.js"></script>
    <script src="~/js/nested_dropdown.js"></script>
    <script src="~/js/booking_table_modal.js"></script>
}
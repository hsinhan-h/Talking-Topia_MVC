@section topCSS {
    <link href="~/css/message.css" rel="stylesheet" />
}

<div class="custom-body">
    <div class="message-window">
        <div class="message-header">
            <h5>訊息</h5>
            <div>
                <!-- Close Button -->
                <button type="button" class="btn-close" aria-label="Close" onclick="closeChat()">×</button>
            </div>
        </div>
        <div class="message-search">
            <input type="text" placeholder="搜尋名字">
        </div>
        <ul class="message-list">
            <li class="message-item">
                <img src="https://via.placeholder.com/40" alt="User">
                <div class="message-content">
                    <h6>{{ tutorName }}</h6>
                    <p>{{ message-content }}</p>
                </div>
                <div class="message-time">{{ daysago }}</div>
            </li>
            <!-- Repeat for other messages -->
        </ul>
    </div>

    <div class="chat-container">
        <!-- Header 部分 -->
        <div class="chat-header">
            <div class="nav-buttons">
                <button onclick="goBack()"><i class="fa-solid fa-angle-left"></i></button>
            </div>
            <div class="teacher-info">
                <h6>ANN老師 😇 讓我幫你安心說出口</h6>
            </div>
            <div class="nav-buttons">
                <!-- <button onclick="goNext()">→</button> -->
            </div>
            <!-- Close Button -->
            <button type="button" class="close-chat" onclick="closeChatContainer()">×</button>
        </div>

        <!-- 教師介紹部分 -->
        <div class="teacher-intro">
            <img src="https://via.placeholder.com/80" alt="Teacher Image">
            <div><strong>4年專業執照教師</strong></div>
            <div>兒美 | 青少課程 | 成人口說</div>
            <div>2066 堂英文課完成</div>
        </div>

        <!-- 聊天內容部分 -->
        <div class="chat-body">
            <div class="chat-message d-flex">
                <img src="https://via.placeholder.com/40" alt="Teacher Image">
                <div class="message-content">
                    <strong>ANN老師</strong>
                    <p>嗨，Li lun Xie！想提升你的英語口說嗎？😊</p>
                    <small>6 天前</small>
                </div>
            </div>
            <!-- 其他聊天訊息 -->
        </div>

        <!-- 輸入框部分 -->
        <div class="chat-input">
            <textarea placeholder="說些什麼... (請使用shift+enter換行)"></textarea>
            <button>➤</button>
        </div>
    </div>
</div>
@section MessageJS {
    <script>
        function closeChat() {
            // 隐藏 message-window 和 chat-container
            document.querySelector('.message-window').style.display = 'none';
            document.querySelector('.chat-container').style.display = 'none';
        }

        function goBack() {
            document.querySelector('.chat-container').style.display = 'none';
            document.querySelector('.message-window').style.display = 'flex';
        }

        function closeChatContainer() {
            document.querySelector('.chat-container').style.display = 'none';
        }
        // 取得所有的 message-item 元素
        const messageItems = document.querySelectorAll('.message-item');

        // 為每個 message-item 新增點擊事件監聽器
        messageItems.forEach(item => {
            item.addEventListener('click', () => {
                // 隱藏 message-window
                document.querySelector('.message-window').style.display = 'none';

                // 顯示 chat-container
                document.querySelector('.chat-container').style.display = 'block';
            });
        });
    </script>
}

